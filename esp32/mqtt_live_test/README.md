# ESP32 MQTT Live Test - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å MapMon v0.5

## –û–ø–∏—Å–∞–Ω–∏–µ
–¢–µ—Å—Ç–æ–≤—ã–π —Å–∫–µ—Ç—á –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∂–∏–≤—ã—Ö MQTT –¥–∞–Ω–Ω—ã—Ö –æ—Ç ESP32, –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π —Å –≤–µ–±-–æ—Ç–ª–∞–¥—á–∏–∫–æ–º MapMon v0.5.

## –¢–æ–ø–∏–∫–∏ MQTT
–°–∫–µ—Ç—á –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ —Å–ª–µ–¥—É—é—â–∏–µ —Ç–æ–ø–∏–∫–∏:
- `car` - –æ—Å–Ω–æ–≤–Ω–∞—è —Ç–µ–ª–µ–º–µ—Ç—Ä–∏—è (–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã, —Å–∫–æ—Ä–æ—Å—Ç—å, –±–∞—Ç–∞—Ä–µ—è, —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞, RPM)
- `vehicles/ESP32_Car_2046/status` - —Å—Ç–∞—Ç—É—Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ 
- `vehicles/ESP32_Car_2046/heartbeat` - heartbeat —Å–æ–æ–±—â–µ–Ω–∏—è

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞
1. –û—Ç–∫—Ä–æ–π—Ç–µ `mqtt_live_test.ino` –≤ Arduino IDE
2. –ó–∞–º–µ–Ω–∏—Ç–µ WiFi –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
   ```cpp
   const char* ssid = "YOUR_WIFI_SSID";
   const char* password = "YOUR_WIFI_PASSWORD";
   ```
3. –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Å–∫–µ—Ç—á –Ω–∞ ESP32

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ MapMon
1. –û—Ç–∫—Ä–æ–π—Ç–µ MapMon v0.5 –≤ –±—Ä–∞—É–∑–µ—Ä–µ: http://localhost:3000
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É "–ò—Å—Ç–æ—Ä–∏—è –∏ –û—Ç–ª–∞–¥–∫–∞" 
3. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∫–ª–∞–¥–∫—É "MQTT –û—Ç–ª–∞–¥–∫–∞"
4. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–ü–æ–¥–∫–ª—é—á–∏—Ç—å"
5. –ó–∞–ø—É—Å—Ç–∏—Ç–µ ESP32 —Å–∫–µ—Ç—á

–í–µ–±-–æ—Ç–ª–∞–¥—á–∏–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- ‚úÖ –ü–æ–¥–∫–ª—é—á–∏—Ç—Å—è –∫ test.mosquitto.org:8081 —á–µ—Ä–µ–∑ WebSocket
- ‚úÖ –ü–æ–¥–ø–∏—à–µ—Ç—Å—è –Ω–∞ –≤—Å–µ —Ç–æ–ø–∏–∫–∏ ESP32 
- ‚úÖ –ü–æ–∫–∞–∂–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ—Ç ESP32 –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- ‚úÖ –û—Ç–æ–±—Ä–∞–∑–∏—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∞–∫—Ç–∏–≤–Ω—ã—Ö ESP32 —É—Å—Ç—Ä–æ–π—Å—Ç–≤

## –ß—Ç–æ —É–≤–∏–¥–∏—Ç–µ –≤ –æ—Ç–ª–∞–¥—á–∏–∫–µ
- üìç **–¢–µ–ª–µ–º–µ—Ç—Ä–∏—è**: –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã, —Å–∫–æ—Ä–æ—Å—Ç—å, –±–∞—Ç–∞—Ä–µ—è, —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞, RPM
- üíì **Heartbeat**: uptime, RSSI, heap –ø–∞–º—è—Ç—å
- üìä **–°—Ç–∞—Ç—É—Å**: —Å—Ç–∞—Ç—É—Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞, IP –∞–¥—Ä–µ—Å, RSSI

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- **ESP32**: TCP MQTT –Ω–∞ –ø–æ—Ä—Ç 1883 (PubSubClient –±–∏–±–ª–∏–æ—Ç–µ–∫–∞)
- **–í–µ–±-–±—Ä–∞—É–∑–µ—Ä**: WebSocket MQTT –Ω–∞ –ø–æ—Ä—Ç 8081 (MQTT.js –±–∏–±–ª–∏–æ—Ç–µ–∫–∞)
- **–ë—Ä–æ–∫–µ—Ä**: test.mosquitto.org –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –æ–±–∞ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞

## –û—Ç–ª–∞–¥–∫–∞
- –û—Ç–∫—Ä–æ–π—Ç–µ Serial Monitor –≤ Arduino IDE (115200 –±aud)
- –í –≤–µ–±-–æ—Ç–ª–∞–¥—á–∏–∫–µ –≤–∫–ª—é—á–∏—Ç–µ –∞–≤—Ç–æ-–ø—Ä–æ–∫—Ä—É—Ç–∫—É –¥–ª—è live –¥–∞–Ω–Ω—ã—Ö
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫—É "–≠–∫—Å–ø–æ—Ä—Ç" –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ª–æ–≥–æ–≤

**–í–∞–∂–Ω–æ**: –í–µ–±-–æ—Ç–ª–∞–¥—á–∏–∫ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¢–û–õ–¨–ö–û —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ—Ç ESP32. –î–µ–º–æ —Ä–µ–∂–∏–º –ø–æ–ª–Ω–æ—Å—Ç—å—é —É–¥–∞–ª–µ–Ω.