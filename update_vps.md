# üöÄ **–û–ë–ù–û–í–õ–ï–ù–ò–ï MAPMON –ù–ê VPS**

## üìã **–°–¢–ê–¢–£–° –ò–ó–ú–ï–ù–ï–ù–ò–ô**
‚úÖ **Git –∫–æ–º–º–∏—Ç —Å–æ–∑–¥–∞–Ω** - –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞
‚úÖ **Push –≤ GitHub –≤—ã–ø–æ–ª–Ω–µ–Ω** - –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
üîÑ **–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥** - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞ VPS —Å–µ—Ä–≤–µ—Ä–µ

## üñ•Ô∏è **–ö–û–ú–ê–ù–î–´ –î–õ–Ø VPS**

### **1. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É:**
```bash
ssh root@147.45.213.22
# –ü–∞—Ä–æ–ª—å: zMc22MT+kNWjnt
```

### **2. –ü–µ—Ä–µ—Ö–æ–¥ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞:**
```bash
cd /var/www/mapmon
```

### **3. –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
pm2 stop mapmon

# –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å GitHub
git pull origin master

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π
git log --oneline -3
```

### **4. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–æ–≤—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–µ—Å–ª–∏ –µ—Å—Ç—å):**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ package.json –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è
yarn install
# –∏–ª–∏
npm install
```

### **5. –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞:**
```bash
# –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä–æ–π —Å–±–æ—Ä–∫–∏
rm -rf .nuxt .output

# –ù–æ–≤–∞—è —Å–±–æ—Ä–∫–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
yarn build
# –∏–ª–∏
npm run build
```

### **6. –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:**
```bash
# –ó–∞–ø—É—Å–∫ MapMon
pm2 start mapmon

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
pm2 status

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
pm2 logs mapmon --lines 20
```

### **7. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–æ–≤
sudo netstat -tlnp | grep :3000

# –¢–µ—Å—Ç –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
curl -I http://127.0.0.1:3000

# –¢–µ—Å—Ç HTTPS
curl -I https://fleetmonitor.ru
```

## üîç **–ü–†–û–í–ï–†–ö–ê –ê–î–ú–ò–ù-–ü–ê–ù–ï–õ–ò**

### **–í –±—Ä–∞—É–∑–µ—Ä–µ:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ https://fleetmonitor.ru
2. –í –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É –Ω–∞–π–¥–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å"** (–≤–º–µ—Å—Ç–æ "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å")
3. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –Ω–µ—ë - –¥–æ–ª–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å—Å—è –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Å–µ 4 –≤–∫–ª–∞–¥–∫–∏:
   - üìä **–û–±–∑–æ—Ä** - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã
   - üöú **–¢–µ—Ö–Ω–∏–∫–∞** - —Å–ø–∏—Å–æ–∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤
   - üì° **MQTT –õ–æ–≥–∏** - —Å–æ–æ–±—â–µ–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
   - ‚öôÔ∏è **–ù–∞—Å—Ç—Ä–æ–π–∫–∏** - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã

## üö® **–í–û–ó–ú–û–ñ–ù–´–ï –ü–†–û–ë–õ–ï–ú–´ –ò –†–ï–®–ï–ù–ò–Ø**

### **–ü—Ä–æ–±–ª–µ–º–∞ 1: –û—à–∏–±–∫–∞ —Å–±–æ—Ä–∫–∏**
```bash
# –û—á–∏—Å—Ç–∫–∞ –∫–µ—à–∞ –∏ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞
rm -rf node_modules .nuxt .output
yarn install
yarn build
```

### **–ü—Ä–æ–±–ª–µ–º–∞ 2: PM2 –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ PM2
cat ecosystem.config.js

# –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫
pm2 delete mapmon
pm2 start ecosystem.config.js
```

### **–ü—Ä–æ–±–ª–µ–º–∞ 3: –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ –±—Ä–∞—É–∑–µ—Ä–∞ (F12 -> Console)
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ PM2
pm2 logs mapmon --lines 50

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–æ–≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
ls -la components/AdminPanel.vue
ls -la composables/useAdmin.ts
```

### **–ü—Ä–æ–±–ª–µ–º–∞ 4: MQTT –¥–∞–Ω–Ω—ã–µ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ MQTT –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ
# –ö–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ -> Network -> WebSocket
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ EMQX Cloud
```

## üìä **–û–ñ–ò–î–ê–ï–ú–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢**

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:

‚úÖ **MapMon —Ä–∞–±–æ—Ç–∞–µ—Ç** –Ω–∞ https://fleetmonitor.ru
‚úÖ **–ö–Ω–æ–ø–∫–∞ "–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å"** –≤–∏–¥–Ω–∞ –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É
‚úÖ **–ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ** –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∫–ª–∏–∫–µ
‚úÖ **4 –≤–∫–ª–∞–¥–∫–∏** —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
‚úÖ **MQTT –¥–∞–Ω–Ω—ã–µ** –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
‚úÖ **–≠–∫—Å–ø–æ—Ä—Ç –ª–æ–≥–æ–≤** —Ä–∞–±–æ—Ç–∞–µ—Ç

## üéØ **–§–ò–ù–ê–õ–¨–ù–ê–Ø –ü–†–û–í–ï–†–ö–ê**

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
pm2 status
curl -I https://fleetmonitor.ru

# –í –±—Ä–∞—É–∑–µ—Ä–µ
1. –û—Ç–∫—Ä–æ–π—Ç–µ https://fleetmonitor.ru
2. –ù–∞–∂–º–∏—Ç–µ "–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å"
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Å–µ –≤–∫–ª–∞–¥–∫–∏
4. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —ç–∫—Å–ø–æ—Ä—Ç –ª–æ–≥–æ–≤
```

---

**–°–æ–∑–¥–∞–Ω–æ:** $(date)
**–°—Ç–∞—Ç—É—Å:** üîÑ –ì–æ—Ç–æ–≤–æ –∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é –Ω–∞ VPS
**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –í—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ 